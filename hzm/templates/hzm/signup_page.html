<!DOCTYPE html>
<html>
<head>
	<meta charset="uft-8">
	<meta name="viewprot" content="width=device-width, inital-scale=1, shrinkt-to-fit=no">

	<!--부트스트랩-->
	 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	 <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	 <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.css">
	 <link rel="stylesheet" type="text/css" href="/static/css/main_page.css">

	 <!--폰트 어썸-->
	 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">

	 <!--ajax-->
	 <script src="/static/js/jquery-3.5.1.min.js"></script>
	 <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	 <title>학지매</title>
</head>
<body>
	<!--내비게이션 바-->
		<nav id="navbar_top" class="navbar navbar-expand-lg navbar-light bg-light" style="position:sticky; top:0;">
			<a class="navbar-brand" href="{% url 'hzm:main_page' %}">학지매</a>
	 	 	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
	    		<span class="navbar-toggler-icon"></span>
	  		</button>
	 	 	<div class="collapse navbar-collapse" id="navbarNav">
			    <ul class="navbar-nav">
			      <li class="nav-item">
			        <a class="nav-link" href="#">친선경기 신청 <span class="sr-only">(current)</span></a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" href="#">기록실</a>
			      </li>
			      {% if pk %}
			      <li class="nav-item">
			        <a class="nav-link" id="signin_btn" href="logout/" data-toggle="modal" data-target="#login">로그아웃</a>
			      </li>
			      {% endif %}
			       <li class="nav-item">
			        <a class="nav-link" id="signin_btn" href="{% url 'hzm:signin_page' %}">로그인</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" id="signup_btn" href="{% url 'hzm:signup_page' %}">가입하기</a>
			      </li>
			  	</ul>
			 </div>
		</nav>
	<!--navbar 끝-->
	<div class="container-fluid" style="margin-top:3%;">
		  <div class="form-group">
		    <label for="exampleInputEmail1">라이더 이름</label>
		    <input type="text" class="form-control" id="form_signup_id" aria-describedby="emailHelp">
		    <small class="form-text text-muted">카트라이더ID와 똑같이 입력해주세요.</small>
		  </div>
		  <div class="form-group">
		    <label for="exampleInputPassword1">비밀번호</label>
		    <input type="password" class="form-control" id="form_signup_passwd">
		    <small class="form-text text-muted">자주쓰는 비밀번호로 절대 하지 마세요.</small>
		  </div>
		   <div class="form-group">
		    <label for="exampleInputPassword1">소속 클럽</label>
		    <input type="text" class="form-control" id="form_signup_club">
		    <small class="form-text text-muted">카트라이더에 소속된 클럽을 적어주세요</small>
		  </div>
		  <button type="submit" class="btn btn-primary" id="form_signup_btn">가입하기</button>
	</div>

<script>
	$(document).on('click','#form_signup_btn',function(e) {
			var player_id = $('#form_signup_id').val();
			var player_passwd = $('#form_signup_passwd').val();
			var player_club = $('#form_signup_club').val(); 

			console.log(player_id);
			console.log(player_passwd);

			if(confirm('아이디를 생성하시겠습니까?')) {
				$.ajax({
					url:"{% url 'hzm:ajax_signup' %}",
					type:'POST',
					dataType : 'json',
					data : {
						'player_id' : player_id,
						'player_passwd' : player_passwd,
						'player_club' :player_club,
						'csrfmiddlewaretoken' : "{{csrf_token}}",

					},
					success:function(data) {
						alert("아이디 생성 성공");
					},
					error : function(error) {
						alert("아이디생성실패");
					}
				});
			}
			else
				return;


		});
</script>
</body>
</html>